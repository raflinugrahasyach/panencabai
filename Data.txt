# Initialize session state variables
if 'data_malang' not in st.session_state:
    st.session_state.data_malang = {}
    
    # Data Malang 2018
    st.session_state.data_malang[2018] = pd.DataFrame({
        'X1(CURAH HUJAN)': [389.20, 383.30, 260.50, 107.10, 161.70, 42.50, 14.30, 24.50, 34.70, 24.90, 62.00, 314.50],
        'X2(SUHU)': [25.40, 25.10, 26.10, 26.10, 25.20, 24.80, 24.40, 14.30, 24.50, 34.70, 24.90, 26.30],
        'X3(LUAS PANEN)': [1345, 1337, 1440, 1443, 1836, 1729, 1475, 1224, 1235, 1226, 626, 418],  
        'Y': [54680, 61003, 66760, 56227, 64898, 72915, 61818, 50128, 51703, 71415, 24970, 19797]  
    })
    
    # Data Malang 2019
    st.session_state.data_malang[2019] = pd.DataFrame({
        'X1(CURAH HUJAN)': [497.70, 263.30, 456.40, 194.00, 45.90, 27.90, 10.70, 24.40, 15.40, 24.30, 28.10, 70.70],
        'X2(SUHU)': [26.30, 26.50, 25.90, 26.10, 25.20, 24.20, 24.00, 10.70, 24.40, 15.40, 24.30, 21.40],
        'X3(LUAS PANEN)': [735, 1341, 1631, 1696, 1718, 1720, 1737, 1271, 641, 1205, 969, 845],  
        'Y': [17225, 44331, 59105, 74422, 68398, 80848, 94669, 71294, 43928, 74590, 33657, 31433]  
    })
    
    # Data Malang 2020
    st.session_state.data_malang[2020] = pd.DataFrame({
        'X1(CURAH HUJAN)': [333.20, 403.00, 316.30, 225.30, 224.30, 65.90, 27.10, 25.30, 19.90, 25.60, 118.30, 211.90],
        'X2(SUHU)': [26.70, 26.30, 26.10, 26.10, 25.20, 25.40, 25.20, 27.10, 25.30, 19.90, 25.60, 62.30],
        'X3(LUAS PANEN)': [813, 891, 1410, 1518, 1685, 694, 1639, 1337, 869, 1011, 224, 275],  
        'Y': [55438, 34461, 73339, 109417, 127267, 47328, 90489, 66846, 66953, 78647, 14665, 14473]  
    })
    
    # Data Malang 2021
    st.session_state.data_malang[2021] = pd.DataFrame({
        'X1(CURAH HUJAN)': [610.20, 301.20, 302.80, 160.50, 74.60, 127.40, 15.20, 25.30, 28.60, 25.70, 198.80, 430.00],
        'X2(SUHU)': [24.90, 25.30, 25.40, 25.70, 25.20, 25.30, 25.00, 15.20, 25.30, 28.60, 25.70, 169.30],
        'X3(LUAS PANEN)': [589, 496, 1119, 857, 682, 837, 1609, 732, 1421, 754, 723, 817],  
        'Y': [46804, 40857, 91761, 70551, 55821, 68567, 123734, 56399, 116502, 59524, 58080, 48025]  
    })
    
    # Data Malang 2022
    st.session_state.data_malang[2022] = pd.DataFrame({
        'X1(CURAH HUJAN)': [392.30, 333.30, 333.10, 186.70, 204.80, 177.80, 40.80, 25.40, 24.10, 25.60, 280.40, 485.70],
        'X2(SUHU)': [26.00, 24.60, 26.00, 26.10, 26.20, 25.40, 25.30, 40.80, 25.40, 24.10, 25.60, 68.10],
        'X3(LUAS PANEN)': [785, 1156, 768, 1800, 1782.50, 1617.50, 1263, 1342.50, 1003.40, 964.75, 1243.65, 1046.10],  
        'Y': [140155, 77812, 48133, 93932, 92549, 93874, 71467, 76721, 48753.80, 45802.50, 64340, 20798]  
    })

if 'data_lumajang' not in st.session_state:
    st.session_state.data_lumajang = {}
    
    # Data Lumajang 2018
    st.session_state.data_lumajang[2018] = pd.DataFrame({
        'X1(CURAH HUJAN)': [351.80, 316.80, 221.90, 101.00, 167.30, 52.40, 25.40, 80.00, 40.00, 93.20, 389.00, 252.70],
        'X2(SUHU)': [26.50, 26.00, 27.20, 27.00, 26.30, 26.00, 25.60, 25.90, 26.30, 27.40, 27.20, 27.80],
        'X3(LUAS PANEN)': [69, 37, 49, 43, 16, 25, 15, 21, 51, 55, 104, 826],  
        'Y': [3814.40, 6878.00, 6758.00, 4890.00, 3800.00, 11650.00, 21790.00, 28400.00, 27836.00, 36910.00, 31050.00, 21365.00]  
    })
    
    # Data Lumajang 2019
    st.session_state.data_lumajang[2019] = pd.DataFrame({
        'X1(CURAH HUJAN)': [381.30, 176.20, 442.90, 136.90, 45.40, 36.70, 18.20, 33.50, 38.60, 49.30, 79.40, 214.30],
        'X2(SUHU)': [27.40, 27.40, 26.90, 27.10, 26.30, 25.30, 25.20, 25.80, 25.70, 27.80, 27.50, 27.50],
        'X3(LUAS PANEN)': [9, 83, 74, 11, 19, 15, 7, 13, 14, 240, 108, 13],  
        'Y': [3616.00, 8279.00, 6967.80, 5174.00, 3653.00, 19730.50, 19048.43, 13467.80, 15129.00, 28488.00, 25209.00, 13714.00]  
    })
    
    # Data Lumajang 2020
    st.session_state.data_lumajang[2020] = pd.DataFrame({
        'X1(CURAH HUJAN)': [253.80, 294.30, 326.30, 197.50, 236.30, 84.30, 35.10, 27.50, 85.20, 191.70, 251.30, 406.60],
        'X2(SUHU)': [27.90, 27.30, 27.10, 27.10, 26.30, 26.60, 26.50, 26.70, 27.20, 27.60, 27.70, 27.10],
        'X3(LUAS PANEN)': [351, 278, 25, 13, 21, 12, 13, 9, 20, 236, 17, 1405],  
        'Y': [16008, 8880, 3105, 2690, 2456, 5085, 9470, 29231, 32002, 37643, 40349, 24650]  
    })
    
    # Data Lumajang 2021
    st.session_state.data_lumajang[2021] = pd.DataFrame({
        'X1(CURAH HUJAN)': [540.40, 267.00, 323.80, 146.20, 70.80, 175.40, 23.40, 57.80, 245.90, 317.60, 531.30, 593.70],
        'X2(SUHU)': [26.00, 26.20, 26.50, 26.70, 26.30, 26.50, 26.40, 26.80, 27.30, 27.80, 26.60, 27.20],
        'X3(LUAS PANEN)': [573, 3, 9, 27, 15, 8, 31, 20, 229, 24, 647, 437],  
        'Y': [4649, 1870, 2028, 3070, 2479, 2294, 3956, 23625, 21829, 8921, 20837.80, 30741.70]  
    })
    
    # Data Lumajang 2022
    st.session_state.data_lumajang[2022] = pd.DataFrame({
        'X1(CURAH HUJAN)': [331.40, 274.30, 323.00, 186.60, 209.30, 216.10, 51.50, 48.30, 109.90, 400.20, 598.40, 360.50],
        'X2(SUHU)': [27.10, 25.60, 27.10, 27.10, 27.40, 26.70, 26.60, 26.90, 27.20, 26.80, 26.50, 27.20],
        'X3(LUAS PANEN)': [20, 23, 26, 44, 23, 8, 7, 29, 251, 8, 15, 288],  
        'Y': [3336, 3537, 5115, 4952.10, 4167, 3992, 16831, 17072, 15251.75, 9992, 7959, 8140.80]  
    })